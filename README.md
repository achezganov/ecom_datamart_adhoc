# –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞ ¬´–í—Å—ë–¢—É—Ç¬ª

## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é –≤–∏—Ç—Ä–∏–Ω—ã –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞ ¬´–í—Å—ë–¢—É—Ç¬ª. –í–∏—Ç—Ä–∏–Ω–∞ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∑–∞–¥–∞—á–∞—Ö –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è (—Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—Ç–æ–∫–∞, –≤—ã–¥–µ–ª–µ–Ω–∏–µ –ª–æ—è–ª—å–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤) –∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–∏.

## –¶–µ–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞

1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã—Ö** ‚Äî –∞–Ω–∞–ª–∏–∑ –∏—Å—Ö–æ–¥–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞
2. **–ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≤–∏—Ç—Ä–∏–Ω—ã** ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã `product_user_features`
3. **Ad hoc –∞–Ω–∞–ª–∏—Ç–∏–∫–∞** ‚Äî —Ä–µ—à–µ–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–∑–∞–¥–∞—á –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–∏—Ç—Ä–∏–Ω—ã

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–∏—Ç—Ä–∏–Ω—ã `product_user_features`

### –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–ª–∏–µ–Ω—Ç–µ
| –ü–æ–ª–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| `user_id` | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–ª–∏–µ–Ω—Ç–∞ |
| `region` | –†–µ–≥–∏–æ–Ω –∑–∞–∫–∞–∑–∞ (—Ç–æ–ø-3 –ø–æ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏) |
| `first_order_ts` | –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –ø–µ—Ä–≤–æ–≥–æ –∑–∞–∫–∞–∑–∞ |
| `last_order_ts` | –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∑–∞–∫–∞–∑–∞ |
| `lifetime` | –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –∫–ª–∏–µ–Ω—Ç–∞ (–¥–Ω–∏ –º–µ–∂–¥—É –ø–µ—Ä–≤—ã–º –∏ –ø–æ—Å–ª–µ–¥–Ω–∏–º –∑–∞–∫–∞–∑–æ–º) |

### –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–∫–∞–∑–∞—Ö
| –ü–æ–ª–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| `total_orders` | –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤ |
| `avg_order_rating` | –°—Ä–µ–¥–Ω—è—è –æ—Ü–µ–Ω–∫–∞ –∑–∞–∫–∞–∑–æ–≤ |
| `num_orders_with_rating` | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤ —Å –æ—Ü–µ–Ω–∫–æ–π |
| `num_canceled_orders` | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–º–µ–Ω—ë–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤ |
| `canceled_orders_ratio` | –î–æ–ª—è –æ—Ç–º–µ–Ω—ë–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤ |

### –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–ª–∞—Ç–µ–∂–∞—Ö
| –ü–æ–ª–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| `total_order_costs` | –°—É–º–º–∞—Ä–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤ |
| `avg_order_cost` | –°—Ä–µ–¥–Ω—è—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–∫–∞–∑–∞ |
| `num_installment_orders` | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤ –≤ —Ä–∞—Å—Å—Ä–æ—á–∫—É |
| `num_orders_with_promo` | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤ —Å –ø—Ä–æ–º–æ–∫–æ–¥–∞–º–∏ |

### –ë–∏–Ω–∞—Ä–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏
| –ü–æ–ª–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| `used_money_transfer` | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –¥–µ–Ω–µ–∂–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥ (1/0) |
| `used_installments` | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª —Ä–∞—Å—Å—Ä–æ—á–∫—É (1/0) |
| `used_cancel` | –û—Ç–º–µ–Ω—è–ª –∑–∞–∫–∞–∑ (1/0) |

## –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

- **–°—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–æ–≤:** —Ç–æ–ª—å–∫–æ `–î–æ—Å—Ç–∞–≤–ª–µ–Ω–æ` –∏ `–û—Ç–º–µ–Ω–µ–Ω–æ`
- **–†–µ–≥–∏–æ–Ω—ã:** —Ç–æ–ø-3 —Ä–µ–≥–∏–æ–Ω–∞ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –∑–∞–∫–∞–∑–æ–≤
- **–ì—Ä–∞–Ω—É–ª—è—Ä–Ω–æ—Å—Ç—å:** —É–Ω–∏–∫–∞–ª—å–Ω–∞—è –ø–∞—Ä–∞ `user_id` + `region`

## Ad hoc –∑–∞–¥–∞—á–∏

### 1. –°–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –∑–∞–∫–∞–∑–æ–≤:
- `1 –∑–∞–∫–∞–∑`
- `2‚Äì5 –∑–∞–∫–∞–∑–æ–≤`
- `6‚Äì10 –∑–∞–∫–∞–∑–æ–≤`
- `11 –∏ –±–æ–ª–µ–µ –∑–∞–∫–∞–∑–æ–≤`

**–ú–µ—Ç—Ä–∏–∫–∏:** –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —Å—Ä–µ–¥–Ω–µ–µ —á–∏—Å–ª–æ –∑–∞–∫–∞–∑–æ–≤, —Å—Ä–µ–¥–Ω—è—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–∫–∞–∑–∞

### 2. –†–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
–¢–æ–ø-15 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –Ω–∞–∏–±–æ–ª—å—à–∏–º —Å—Ä–µ–¥–Ω–∏–º —á–µ–∫–æ–º —Å—Ä–µ–¥–∏ —Ç–µ—Ö, –∫—Ç–æ —Å–¥–µ–ª–∞–ª ‚â•3 –∑–∞–∫–∞–∑–æ–≤

### 3. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º
- –û–±—â–µ–µ —á–∏—Å–ª–æ –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏ –∑–∞–∫–∞–∑–æ–≤
- –°—Ä–µ–¥–Ω—è—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–∫–∞–∑–∞
- –î–æ–ª—è –∑–∞–∫–∞–∑–æ–≤ –≤ —Ä–∞—Å—Å—Ä–æ—á–∫—É
- –î–æ–ª—è –∑–∞–∫–∞–∑–æ–≤ —Å –ø—Ä–æ–º–æ–∫–æ–¥–∞–º–∏
- –î–æ–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –æ—Ç–º–µ–Ω–∞–º–∏

### 4. –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ –ø–µ—Ä–≤–æ–º—É –º–µ—Å—è—Ü—É (2023)
–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –º–µ—Å—è—Ü—É –ø–µ—Ä–≤–æ–≥–æ –∑–∞–∫–∞–∑–∞ –≤ 2023 –≥–æ–¥—É:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∏–µ–Ω—Ç–æ–≤, –∑–∞–∫–∞–∑–æ–≤, —Å—Ä–µ–¥–Ω—è—è —Å—Ç–æ–∏–º–æ—Å—Ç—å
- –°—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥
- –î–æ–ª—è –∏—Å–ø–æ–ª—å–∑—É—é—â–∏—Ö –¥–µ–Ω–µ–∂–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã
- –°—Ä–µ–¥–Ω—è—è –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **–°–£–ë–î:** PostgreSQL
- **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:** DBeaver, DataGrip
- **–Ø–∑—ã–∫:** SQL

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```
‚îú‚îÄ‚îÄ README.md                    # –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
‚îî‚îÄ‚îÄ VseTut_tmp.sql               # –§–∞–π–ª —Å –∑–∞–ø—Ä–æ—Å–∞–º–∏
```

*–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è: 3.12.25*
